CREATE DATABASE [VENDAS_JOIAS]

CREATE TABLE [TABELA DE CLIENTES]
(
[CPF] [CHAR] (11),
[NOME] [VARCHAR] (100),
[RUA] [VARCHAR] (150),
[COMPLEMENTO] [VARCHAR] (150),
[BAIRRO] [VARCHAR] (50),
[CIDADE] [VARCHAR] (50),
[ESTADO] [CHAR] (2),
[CEP] [CHAR] (8),
[DATA DE NASCIMENTO] [DATE],
[IDADE] [TINYINT],
[GENERO] [CHAR] (1),
[LIMITE DE CREDITO] [MONEY],
[VOLUME DE COMPRA] [FLOAT],
[PRIMEIRA COMPRA] [BIT]
);

ALTER TABLE [TABELA DE CLIENTES] ALTER COLUMN [CPF] CHAR (11) NOT NULL;

ALTER TABLE [TABELA DE CLIENTES] 
ADD CONSTRAINT PK_TABELA_DE_CLIENTES
PRIMARY KEY CLUSTERED ([CPF]);

INSERT INTO [TABELA DE CLIENTES]
VALUES
('38456982133', 'Joana Fernandes', 'Rua das Olimpíadas,35', 'apto 9', 'Vila Olimpia', 'São Paulo', 'SP', '58463085',
'1956-11-01', 57, 'F', 20000, 3000.30, 1);

INSERT INTO [TABELA DE CLIENTES]
VALUES 
('19290992743','Fernando Cavalcante','R. Dois de Fevereiro','','Agua Santa','Rio de Janeiro','RJ','22000000','2000-02-12',18,'M',100000,200000,1),
('2600586709','Cesar Teixeira','Rua Conde de Bonfim','','Tijuca','Rio de Janeiro','RJ','22020001','2000-03-12',18,'M',120000,220000,0),
('95939180787','Fabio Carvalho','R. dos Jacarandis','','Barra da Tijuca','Rio de Janeiro','RJ','22002020','1992-01-05',16,'M',90000,180000,1),
('9283760794','Edson Meilelles','R. Pinto de Azevedo','','Cidade Nova','Rio de Janeiro','RJ','22002002','1995-10-07',22,'M',150000,250000,1),
('7771579779','Marcelo Mattos','R. Eduardo Luis Lopes','','Bras','São Paulo','SP','88202912','1992-03-25',25,'M',120000,200000,1),
('5576228758','Petra Oliveira','R. BenIcio de Abreu','','Lapa','São Paulo','SP','88192029','1995-11-14',22,'F',70000,160000,1),
('8502682733','Valdeci da Silva','R. Srg. Edison de Oliveira','','Jardins','São Paulo','SP','82122020','1995-10-07',22,'M',110000,190000,0),
('1471156710','Erica Carvalho','R. Iriquitia','','Jardins','São Paulo','SP','80012212','1990-09-01',27,'F',170000,245000,0);

SELECT * FROM [TABELA DE CLIENTES]

UPDATE [TABELA DE CLIENTES]
SET [COMPLEMENTO] = 'apto 95', [RUA] = 'Rua das Olimpiadas'
WHERE [CPF] = 38456982133;

SELECT [CPF], [NOME] FROM [TABELA DE CLIENTES]

SELECT [CPF] AS [IDENTIFICADOR], [NOME] AS [NOME DO CLIENTE]
FROM [TABELA DE CLIENTES]


--Desmembrar dia, mês e ano para verificar por exemplo, quais pessoas fazem aniversário no mês 10
SELECT [NOME], [ESTADO], [DATA DE NASCIMENTO],
YEAR ([DATA DE NASCIMENTO]) AS ANO,
MONTH ([DATA DE NASCIMENTO]) AS MES,
DAY ([DATA DE NASCIMENTO]) AS DIA
FROM [TABELA DE CLIENTES]
WHERE MONTH([DATA DE NASCIMENTO]) = 10;

SELECT * FROM [TABELA DE CLIENTES] WHERE DAY([DATA DE NASCIMENTO]) = 7

SELECT * FROM [TABELA DE CLIENTES] WHERE DAY([DATA DE NASCIMENTO]) = 7 AND [BAIRRO] = 'Jardins'

SELECT * FROM [TABELA DE CLIENTES] WHERE [BAIRRO] = 'Tijuca' OR [BAIRRO] = 'Jardins'